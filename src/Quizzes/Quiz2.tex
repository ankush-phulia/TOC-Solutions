\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{amssymb}
\usepackage{amsmath}

\usepackage{geometry}
\geometry{left=2.5cm,right=2.5cm,top=2cm,bottom=2cm}

\setlength{\parskip}{0.5em}
\setlength{\parindent}{0em}
\renewcommand{\baselinestretch}{1.0}

\title{Quiz 2}
\author{COL 352\\
    Introduction to Automata \& 
    Theory of Computation}
\date{}

\begin{document}
    \maketitle
    
    \section*{Problem 1} Given the grammar 
    $$S \rightarrow AA$$
    $$A \rightarrow AAA~|~a~|~bA~|~Ab$$
    is it true that it generates all strings with even number of a's? Either give a counter-example or state a formal induction assertion for $S$ and $A$ (induction proof not required) that makes the claim true.
    
    \textbf{Solution} :
    
    Induction Assertion : $\forall i \geq 1$ and $\forall w, |w| = i$
    \begin{enumerate}
        \item $A \rightarrow w$ iff $w$ contains odd number of a's
        \item $S \rightarrow w$ iff $w$ contains even number of a's
    \end{enumerate}

    I) Claim : $\forall i \geq 1$ and $\forall w, |w| = i$, $A \rightarrow w$ iff $w$ contains odd number of a's
    
    \quad Proof : By induction on the length of string $w$
    
    \quad Basis :   $A \rightarrow a $. Since $A$ terminates only at a, a is the only 1 length string that can be generated
    
    \quad Induction Hypothesis : The grammar generates all strings of length $n \le k$ iff number of a's is odd
    
    \quad Induction Step: For $|w| = k+1$ and has odd number of a's then for $A \rightarrow w$ - $w$ can be of the form 
    
    \quad $aw_{1}a$, $bw_{1}b$, $aw_{2}b$ or $bw_{2}a$, where
    
    \qquad (i) $|w_{1}| = k-2$ and has odd $a's$
    $$A \rightarrow AAA \rightarrow aAA \rightarrow aA_{1}a$$
    $$A \rightarrow bA \rightarrow bA_{1}b$$
    
    \qquad From Induction Hypothesis, $A_{1} \xrightarrow[]{*} w_{1}$
    
    
    \qquad (ii) $|w_{2}| = k-2$ and has even number of a's
    $$A \rightarrow AAA \rightarrow AAAb \rightarrow aA_{1}A_{2}b$$
    $$A \rightarrow AAA \rightarrow bAAA \rightarrow bA_{1}A_{2}a$$
    
    \qquad Let $w_{21}$ and $w_{22}$ be such that $|w_{21}| < k-2$, $|w_{22}| < k-2 $ and $|w_{21}| + |w_{22}| = k-2$ and odd a's.
    
    \qquad From IH, $A_{1} \xrightarrow[]{*} w_{21}$ and $A_{2} \xrightarrow[]{*} w_{22}$ , i.e.,  $w_{21}w_{22} = w_{2}$ and has even a's.
    
    \qquad Thus $A_{1}A_{2} \xrightarrow{*} w_{2}$
    
    \qquad If $A \rightarrow w$ and $|w| = k+1$, then $w$ has odd number of a's -   Let $w$ be a $k+1$ length string with even a's. 
    
    \qquad Possible grammar productions for generating $n = k+1$ length string - $A \rightarrow bA_{1} $ and $A \rightarrow A_{1}b $
    
    \qquad $A_{1}$ should generate string of length $k$ with even a's. But from IH, we have that only those strings of 
    
    \qquad length $k$ are generated by $A$ which have odd a's. Thus contradiction. 

    \qquad$A \rightarrow A_{2}A_{3}A_{4} $
    
    \qquad Also, from IH, $A_{2}$, $A_{3}$ and $A_{4}$ generates strings of length less than $k$ with odd number of a's. 
    
    \qquad Thus, together they generate a string with odd number of a's as 3 odds will make 1 odd.
     
    \quad Thus for all $i \geq 1$, and all strings $|w| = i$, $A \rightarrow w$ iff $w$ contains odd number of a's\\

    II) Claim :  $\forall i \geq 1$ and $\forall w, |w| = i$, $S \rightarrow w$ iff $w$ contains even number of a's
    
    \quad Proof : Any string, $x$ with even a's (say $n$) can be divided into two strings with odd a's.
    
    \quad Since $A$ generates all strings with odd a's, $S \rightarrow AA$ can generate all string with even number of a's
    
    From I and II, we can prove that the grammar generates all strings with even number of a's
    
    \section*{Problem 2} Let $L$ be the language of all strings over the alphabet $\{a, b, c, d\}$ that do not contain an equal number of $a, b, c, d$'s, i.e. $aabcc \in L$, but $abccadbd \notin L$. Is L a CFL? Justify your answer
    
    \textbf{Solution} :
    
    Let $num(x, w)$ denote the number of $x$'s in the word $w$, $x \in \Sigma ~(= \{ a, b, c, d\})$
    
    Consider the language $L_{xy} = \{w ~|~ num(x, w) \neq num(y, w) \}$
    
    Clearly, $L = \bigcup_{x \neq y}^{x, y \in \Sigma}L_{xy}$
    
    Further, $\forall x, y \in \Sigma, ~L_{xy}$ is a CFL, with the CFG
    $$S \rightarrow U ~|~ V$$
    $$U \rightarrow TxU ~|~ TxT$$
    $$V \rightarrow TyV ~|~ TyT$$
    $$T \rightarrow xTyT ~|~ yTxT ~|~ tT ~|~ \epsilon $$
    where $t \in \Sigma - \{x, y\}$ (= $\{c, d\}$ for $x = a$ and $y= b$). Here, the symbol $U$ generates strings $w$ with $num(x, w) > num(y, w)$. $V$ generates $num(y, w) > num(x, w)$ and $T$ generates $num(x, w) = num(y, w)$. 
    
    Alternately, $L_{xy}$ can be represented by the PDA as follows - 
    \begin{itemize}
        \item If stack is empty or top has $x$ on it, push $x$ onto the stack when it is read, pop from stack when $y$ is
        \item If stack is empty or top has $y$ on it, push $y$ onto the stack when it is read, pop from stack when $x$ is
        \item Simply consume symbols other than $x$ and $y$
        \item Transition to the final, accepting state if the whole string has been consumed but the stack is non-empty
    \end{itemize}
    
    
    
    Since the finite union of CFLs yields a CFL (simply another transition from the start symbol), $L$ is a CFL\\
    
    Common error - $L' = \{w ~|~ num(a, w) \neq num(b, w) \neq num(c,w) \neq num(d,w) \} \neq L$, $L' \subset L$ 
    
\end{document}